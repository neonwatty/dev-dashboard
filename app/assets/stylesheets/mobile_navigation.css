/* Mobile Navigation Styles */

/* Mobile-first responsive utilities */
@layer utilities {
  .mobile-padding {
    @apply px-4 py-4 sm:px-6 sm:py-6 lg:px-8 lg:py-8;
  }
  
  .mobile-spacing {
    @apply space-y-4 sm:space-y-6 lg:space-y-8;
  }
  
  /* Safe area padding for devices with home indicators */
  .safe-area-padding-bottom {
    padding-bottom: env(safe-area-inset-bottom, 1rem);
  }
  
  .safe-area-padding-top {
    padding-top: env(safe-area-inset-top, 0);
  }
}

/* Touch-friendly targets */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  @apply flex items-center justify-center;
}

/* Mobile navigation drawer */
.mobile-drawer {
  @apply fixed inset-y-0 right-0 w-80 max-w-sm bg-white dark:bg-gray-800 shadow-xl z-50;
  @apply transform transition-transform duration-300 ease-in-out;
  @apply border-l border-gray-200 dark:border-gray-700;
}

.mobile-drawer.closed {
  @apply translate-x-full;
}

.mobile-drawer.open {
  @apply translate-x-0;
}

/* Mobile drawer backdrop */
.mobile-backdrop {
  @apply fixed inset-0 bg-black bg-opacity-50 z-40;
  @apply transition-opacity duration-300 ease-in-out;
}

.mobile-backdrop.hidden {
  @apply opacity-0 pointer-events-none;
}

.mobile-backdrop.visible {
  @apply opacity-100;
}

/* Hamburger menu animation */
.hamburger {
  @apply w-6 h-6 relative flex flex-col justify-center items-center;
}

.hamburger-line {
  @apply w-6 h-0.5 bg-current transition-all duration-300 ease-in-out;
}

.hamburger.open .hamburger-line:nth-child(1) {
  @apply rotate-45 translate-y-1;
}

.hamburger.open .hamburger-line:nth-child(2) {
  @apply opacity-0;
}

.hamburger.open .hamburger-line:nth-child(3) {
  @apply -rotate-45 -translate-y-1;
}

/* Bottom navigation */
.bottom-nav {
  @apply fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800;
  @apply border-t border-gray-200 dark:border-gray-700;
  @apply shadow-lg z-30;
  @apply safe-area-padding-bottom;
}

.bottom-nav-item {
  @apply flex flex-col items-center justify-center py-2 px-1;
  @apply text-gray-500 dark:text-gray-400;
  @apply hover:text-blue-600 dark:hover:text-blue-400;
  @apply transition-colors duration-200;
  @apply touch-target;
}

.bottom-nav-item.active {
  @apply text-blue-600 dark:text-blue-400;
}

.bottom-nav-item svg {
  @apply w-6 h-6 mb-1;
}

.bottom-nav-item span {
  @apply text-xs font-medium;
}

/* Mobile header optimizations */
.mobile-header {
  @apply sticky top-0 z-40 bg-white dark:bg-gray-800;
  @apply border-b border-gray-200 dark:border-gray-700;
  @apply transition-all duration-200;
  @apply safe-area-padding-top;
}

.mobile-header.scrolled {
  @apply shadow-md;
}

/* Responsive container system */
.responsive-container {
  @apply container mx-auto px-4 sm:px-6 lg:px-8;
  @apply max-w-full lg:max-w-7xl;
}

/* Hide scrollbars but keep functionality */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Mobile navigation drawer content */
.mobile-nav-content {
  @apply flex flex-col h-full;
}

.mobile-nav-header {
  @apply flex items-center justify-between p-4;
  @apply border-b border-gray-200 dark:border-gray-700;
}

.mobile-nav-body {
  @apply flex-1 overflow-y-auto;
}

.mobile-nav-footer {
  @apply p-4 border-t border-gray-200 dark:border-gray-700;
  @apply safe-area-padding-bottom;
}

.mobile-nav-link {
  @apply flex items-center px-4 py-3;
  @apply text-gray-900 dark:text-gray-100;
  @apply hover:bg-gray-50 dark:hover:bg-gray-700;
  @apply transition-colors duration-200;
  @apply touch-target;
}

.mobile-nav-link.active {
  @apply bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400;
  @apply border-r-4 border-blue-600 dark:border-blue-400;
}

.mobile-nav-link svg {
  @apply w-5 h-5 mr-3;
}

/* Prevent body scroll when mobile menu is open */
body.mobile-menu-open {
  @apply overflow-hidden;
}

/* Focus trap styles */
.focus-trap {
  @apply outline-none;
}

.focus-trap:focus {
  @apply ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-800;
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  /* Ensure content doesn't overlap with bottom nav */
  main {
    padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0));
  }
  
  /* Larger touch targets on very small screens */
  .touch-target {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* Increased font sizes for better readability */
  .mobile-nav-link {
    @apply text-base;
  }
  
  .bottom-nav-item span {
    @apply text-sm;
  }
}

/* Animation classes for JavaScript interaction */
.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.fade-out {
  animation: fadeOut 0.3s ease-in-out;
}

.slide-in-right {
  animation: slideInRight 0.3s ease-in-out;
}

.slide-out-right {
  animation: slideOutRight 0.3s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideInRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

@keyframes slideOutRight {
  from { transform: translateX(0); }
  to { transform: translateX(100%); }
}